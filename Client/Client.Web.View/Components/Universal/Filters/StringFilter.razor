@using DestallMaterials.Blazor.Components.Universal.Inputs;
@using Protocol.Models.Filters


<StringInput InputLabel="@Label" OnValueSet="_onValueSet" Disabled=Disabled />

@code {
    [Parameter]
    public string Label { get; set; }

    [Parameter]
    public IStringFilterReadOnlyModel Value { get; set; }

    [Parameter]
    public Action<IStringFilterReadOnlyModel> OnValueSet { get; set; } = f => { };

    [Parameter]
    public bool Disabled { get; set; }

    void _onValueSet(string stringFilter)
    {
        var filter = new StringFilterModel
            {
                Pattern = $"%{stringFilter}%"
            };
        Value = filter;
        if (OnValueSet != null)
        {
            OnValueSet(filter);
        }
    }


}
